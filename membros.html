<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>Membros ‚Äî Zion Church Lisboa</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <style>:root{--gold:#B8922A;--gold-light:#D4A843;--gold-dark:#8B6914;--border:rgba(184,146,42,0.22);--bg-page:#F5EFE4;--bg-card:#FFFFFF;--bg-input:#FAF7F2;--bg-footer:#F0E8D8;--text-main:#1A1410;--text-muted:#7A6A52;--text-faint:#A89878;--shadow:0 8px 40px rgba(100,70,20,0.13)}
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
    html,body{height:100%;background:var(--bg-page);font-family:'Lato',sans-serif;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh}
    body::before{content:'';position:fixed;inset:0;background:radial-gradient(ellipse at 15% 15%,rgba(201,168,76,0.09) 0%,transparent 55%),radial-gradient(ellipse at 85% 85%,rgba(201,168,76,0.06) 0%,transparent 55%);pointer-events:none}
    .page-wrapper{position:relative;z-index:1;display:flex;flex-direction:column;width:640px;max-width:96vw;height:96vh;max-height:900px;background:var(--bg-card);border-radius:16px;box-shadow:var(--shadow),0 0 0 1px var(--border);overflow:hidden}
    .banner{width:100%;position:relative;background:#111;flex-shrink:0}.banner img{width:100%;height:120px;object-fit:cover;display:block}
    .banner-fallback{display:none;width:100%;height:120px;background:linear-gradient(135deg,#0d0d0d 0%,#1c1408 50%,#0d0d0d 100%);align-items:center;justify-content:center;flex-direction:column;gap:8px}
    .banner-fallback.show{display:flex}.banner-title{font-family:'Cinzel',serif;color:#C9A84C;font-size:28px;font-weight:700;letter-spacing:10px}
    .banner-sub{color:rgba(201,168,76,0.6);font-size:10px;letter-spacing:4px;text-transform:uppercase}
    .banner-overlay{position:absolute;bottom:0;left:0;right:0;height:60px;background:linear-gradient(to top,rgba(255,255,255,0.95),transparent)}
    .banner-nav{position:absolute;bottom:10px;left:0;right:0;display:flex;align-items:center;justify-content:space-between;padding:0 16px}
    .back-btn{display:flex;align-items:center;gap:6px;background:rgba(255,255,255,0.92);border:1px solid var(--border);border-radius:20px;padding:5px 14px;font-family:'Cinzel',serif;font-size:10px;letter-spacing:1.5px;color:var(--gold-dark);text-decoration:none;backdrop-filter:blur(8px);transition:all 0.2s}
    .page-badge{font-family:'Cinzel',serif;font-size:10px;letter-spacing:2px;color:var(--gold);text-transform:uppercase;background:rgba(255,255,255,0.92);border:1px solid var(--border);border-radius:20px;padding:5px 14px;backdrop-filter:blur(8px)}
    .gold-line{height:2px;background:linear-gradient(90deg,transparent,var(--gold-light),transparent);flex-shrink:0;opacity:0.5}
    .content{flex:1;overflow-y:auto;padding:20px 18px;background:var(--bg-input)}
    .content::-webkit-scrollbar{width:4px}.content::-webkit-scrollbar-thumb{background:rgba(184,146,42,0.25);border-radius:2px}
    .card{background:var(--bg-card);border:1px solid var(--border);border-radius:12px;padding:18px;margin-bottom:12px;box-shadow:0 2px 8px rgba(100,70,20,0.05);animation:fadeUp 0.4s ease both}
    .card--highlight{background:linear-gradient(135deg,rgba(201,168,76,0.08),rgba(201,168,76,0.02));border-color:rgba(184,146,42,0.35)}
    .card-badge{display:inline-block;padding:2px 10px;border-radius:20px;background:rgba(184,146,42,0.1);border:1px solid var(--border);font-family:'Cinzel',serif;font-size:9px;letter-spacing:1.5px;text-transform:uppercase;color:var(--gold);margin-bottom:10px}
    .card-title{font-family:'Cinzel',serif;font-size:16px;font-weight:600;color:var(--gold-dark);margin-bottom:8px}
    .card-text{font-size:14px;color:var(--text-muted);line-height:1.75}
    .section-label{font-family:'Cinzel',serif;font-size:10px;letter-spacing:3px;text-transform:uppercase;color:var(--text-faint);margin:18px 0 10px}
    .info-row{display:flex;align-items:flex-start;gap:14px;padding:11px 0;border-bottom:1px solid rgba(184,146,42,0.1)}
    .info-row:last-child{border-bottom:none}
    .info-icon{width:34px;height:34px;border-radius:9px;background:rgba(184,146,42,0.1);display:flex;align-items:center;justify-content:center;font-size:15px;flex-shrink:0}
    .info-label{font-size:10px;letter-spacing:1.5px;text-transform:uppercase;color:var(--text-faint);font-family:'Cinzel',serif;margin-bottom:2px}
    .info-value{font-size:14px;color:var(--text-main);line-height:1.4}
    .user-card{display:flex;align-items:center;gap:16px;background:linear-gradient(135deg,rgba(201,168,76,0.1),rgba(201,168,76,0.03));border:1px solid rgba(184,146,42,0.35);border-radius:12px;padding:16px;margin-bottom:12px;animation:fadeUp 0.3s ease both}
    .user-avatar{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--gold-dark),var(--gold-light));display:flex;align-items:center;justify-content:center;font-family:'Cinzel',serif;font-size:18px;color:#fff;font-weight:700;flex-shrink:0}
    .user-info{flex:1}.user-name{font-family:'Cinzel',serif;font-size:14px;font-weight:600;color:var(--gold-dark)}
    .user-tipo{display:inline-block;margin-top:4px;padding:2px 10px;border-radius:20px;font-family:'Cinzel',serif;font-size:9px;letter-spacing:1.5px;text-transform:uppercase;color:#fff}
    .tipo-visitante{background:rgba(100,130,200,0.7)}.tipo-membro{background:rgba(139,105,20,0.8)}.tipo-admin{background:rgba(180,50,50,0.8)}
    .logout-btn{display:flex;align-items:center;gap:6px;padding:7px 12px;border-radius:8px;border:1px solid rgba(220,80,60,0.3);background:rgba(220,80,60,0.06);color:#c0392b;font-family:'Cinzel',serif;font-size:9px;letter-spacing:1.5px;text-transform:uppercase;cursor:pointer;transition:all 0.2s;flex-shrink:0}
    .logout-btn:hover{background:rgba(220,80,60,0.12);border-color:rgba(220,80,60,0.5)}
    .teaser-card{text-align:center;padding:32px 20px;background:linear-gradient(135deg,rgba(201,168,76,0.06),rgba(201,168,76,0.01));border:1px solid var(--border);border-radius:12px;margin-bottom:12px;animation:fadeUp 0.4s ease both}
    .teaser-icon{font-size:44px;margin-bottom:14px;opacity:0.5}.teaser-title{font-family:'Cinzel',serif;font-size:17px;color:var(--text-muted);margin-bottom:8px}
    .teaser-text{font-size:13px;color:var(--text-faint);line-height:1.7;max-width:300px;margin:0 auto}
    .footer{background:var(--bg-footer);border-top:1px solid var(--border);padding:10px 18px;flex-shrink:0}
    .footer-links{display:flex;justify-content:center;gap:12px;margin-bottom:8px}
    .footer-link{display:flex;align-items:center;gap:5px;color:var(--gold);text-decoration:none;font-size:10px;letter-spacing:1.2px;text-transform:uppercase;font-family:'Cinzel',serif;padding:4px 10px;border-radius:4px;border:1px solid var(--border);background:rgba(255,255,255,0.6);transition:all 0.2s}
    .footer-link svg{width:12px;height:12px}.footer-divider{height:1px;background:var(--border);margin:8px 0}
    .footer-bottom{display:flex;flex-direction:column;align-items:center;gap:2px}
    .footer-copy{color:var(--text-muted);font-size:10px;letter-spacing:1px;text-transform:uppercase;font-family:'Cinzel',serif;text-align:center}
    .footer-address{color:var(--text-faint);font-size:10px;text-align:center}
    @keyframes fadeUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}</style>
</head>
<body>
<div class="page-wrapper">
    <div class="banner">
        <img src="banner zion.jpg" alt="Zion Lisboa" onerror="this.style.display='none';document.querySelector('.banner-fallback').classList.add('show');">
        <div class="banner-fallback"><div class="banner-title">ZION</div><div class="banner-sub">Lisboa ¬∑ Portugal</div></div>
        <div class="banner-overlay"></div>
        <div class="banner-nav">
            <a href="index.html" class="back-btn">‚Üê In√≠cio</a>
            <span class="page-badge">Membros</span>
        </div>
    </div>
    <div class="gold-line"></div>
    <div class="content">
        <!-- User card (preenchido pelo JS) -->
        <div class="user-card" id="user-card" style="display:none">
            <div class="user-avatar" id="uc-avatar"></div>
            <div class="user-info">
                <div class="user-name" id="uc-nome"></div>
                <span class="user-tipo" id="uc-tipo"></span>
            </div>
            <button class="logout-btn" onclick="ZionAuth.logout()"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg> Sair</button>
        </div>
        <!-- Conte√∫do para membros -->
        <div id="content-membro" style="display:none">
            <p class="section-label">A minha √°rea</p>
            <div class="card card--highlight" style="animation-delay:0.05s">
                <div class="card-badge">Comunidade</div>
                <div class="card-title" id="welcome-title">Bem-vindo! üôè</div>
                <div class="card-text">Como membro da Zion Lisboa tens acesso √† tua √°rea pessoal, hist√≥rico de minist√©rios e muito mais.</div>
            </div>
            <div class="card" style="animation-delay:0.10s">
                <div class="card-badge">O meu perfil</div>
                <div class="info-row"><div class="info-icon">üë§</div><div><div class="info-label">Nome</div><div class="info-value" id="p-nome">‚Äî</div></div></div>
                <div class="info-row"><div class="info-icon">üìß</div><div><div class="info-label">Email</div><div class="info-value" id="p-email">‚Äî</div></div></div>
                <div class="info-row"><div class="info-icon">‚úùÔ∏è</div><div><div class="info-label">Tipo de Conta</div><div class="info-value" id="p-tipo">‚Äî</div></div></div>
            </div>
            <div class="card" style="animation-delay:0.15s">
                <div class="card-badge">Em breve</div>
                <div class="card-title">Mais funcionalidades a chegar</div>
                <div class="card-text">Hist√≥rico de d√≠zimos, inscri√ß√µes em minist√©rios, agendamento de salas e muito mais.</div>
            </div>
        </div>
        <!-- Conte√∫do para visitantes -->
        <div id="content-visitante" style="display:none">
            <div class="teaser-card" style="animation-delay:0.05s">
                <div class="teaser-icon">üëë</div>
                <div class="teaser-title">√Årea exclusiva para Membros</div>
                <div class="teaser-text">Esta √°rea √© reservada para membros da Zion Lisboa. Quando deres o passo de membres√≠a, a tua conta ser√° atualizada automaticamente.</div>
            </div>
            <div class="card" style="animation-delay:0.10s">
                <div class="card-badge">A tua conta</div>
                <div class="info-row"><div class="info-icon">üë§</div><div><div class="info-label">Nome</div><div class="info-value" id="p-nome">‚Äî</div></div></div>
                <div class="info-row"><div class="info-icon">üìß</div><div><div class="info-label">Email</div><div class="info-value" id="p-email">‚Äî</div></div></div>
                <div class="info-row"><div class="info-icon">ü§ù</div><div><div class="info-label">Estado</div><div class="info-value">Visitante ‚Äî a crescer na f√© üôè</div></div></div>
            </div>
        </div>
    </div>
    <div class="footer">
        <div class="footer-links">
            <a class="footer-link" href="https://zionchurch.org.br/" target="_blank"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>Site Oficial</a>
            <a class="footer-link" href="https://www.instagram.com/zionlisboa/" target="_blank"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>@ZionLisboa</a>
        </div>
        <div class="footer-divider"></div>
        <div class="footer-bottom">
            <div class="footer-copy">¬© 2026 Zion Lisboa ‚Äî Todos os direitos reservados</div>
            <div class="footer-address">Rua do Centro Cultural, 11 ¬∑ 1700-036 Alvalade ¬∑ Lisboa, Portugal</div>
        </div>
    </div>
</div>
<script src="auth.js"></script>
<script>
    ZionAuth.protect();
    const user = ZionAuth.getUser();
    const tipoLabel = {visitante:'Visitante',membro:'Membro',admin:'Administrador'};
    const tipoClass = {visitante:'tipo-visitante',membro:'tipo-membro',admin:'tipo-admin'};
    const isMembro  = user.tipo === 'membro' || user.tipo === 'admin';
    const initials  = (user.nome||'U').split(' ').map(w=>w[0]).slice(0,2).join('').toUpperCase();

    // Preenche user card
    document.getElementById('uc-avatar').textContent = initials;
    document.getElementById('uc-nome').textContent   = user.nome;
    const tipoEl = document.getElementById('uc-tipo');
    tipoEl.textContent  = tipoLabel[user.tipo] || user.tipo;
    tipoEl.className    = 'user-tipo ' + (tipoClass[user.tipo] || 'tipo-visitante');
    document.getElementById('user-card').style.display = '';

    // Preenche campos de perfil se existirem
    ['p-nome','p-email'].forEach(id => {
        const el = document.getElementById(id);
        if(el) el.textContent = id === 'p-nome' ? user.nome : user.email;
    });
    const wt = document.getElementById('welcome-title');
    if(wt) wt.textContent = 'Bem-vindo, ' + user.nome.split(' ')[0] + '! üôè';
    const ptipo = document.getElementById('p-tipo');
    if(ptipo) ptipo.textContent = tipoLabel[user.tipo] || user.tipo;

    // Mostra conte√∫do correto
    if(isMembro) {
        document.getElementById('content-membro').style.display = '';
    } else {
        document.getElementById('content-visitante').style.display = '';
    }
</script>
</body>
</html>